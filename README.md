# Module-Berserk

## TODO
- 공격 애니메이션 만들어지면 공격 시스템 구현
  - 연속 공격
    - 선딜, 타격, 후딜: 선입력 대기
    - 후딜 끝나는 프레임: 선입력 있었으면 바로 다음 공격
    - 후딜 이후 ~ 자세 복구: 공격키 누르면 다음 공격, 입력 없으면 idle상태로 복귀
  - 공중 공격 도중에는 낙하 x
  - 공격 모션에 따른 공격 범위 콜라이더 조작
- 피격 경직 처리
  - 강한 경직, 약한 경직 애니메이션 추가하기
  - 긴급 회피로 탈출
- 한 번의 공격에 여러 번 데미지를 입는 상황 방지하기
  - 지금 테스트용으로 넣어둔 플레이어 무기는 OnTriggerEnter를  
  조건으로 사용해서 왔다 갔다 하면서 두 번 공격하기도 함...
- 회피 (다크소울 구르기에 해당하는 액션)
- 더블 점프 사용 조건 결정되면 사용 제한 걸기 (ex. 연료/열기 사용)
- 아주 높은 곳에서 추락하는 상황에서 카메라 추적 좌표의 y값 조정하기
  - 지금은 땅에 닿을 때마다 y축 추적이 들어가서 플레이어가 시야 밖으로 나가는 상황도 가능함
  - 만약 맵의 수직 높이가 제한적이라면 지금 상태를 유지해도 상관 없음
- 상태이상, 무적, 슈퍼아머 등 관리하는 클래스 설계하기

## 리팩토링 후보
- PlayerManager
  - 맡은 역할이 워낙 많아서 적어도 공격 정도는 다른 곳으로 분리하게 될듯
- 피격 경직
  - 플레이어와 보스를 제외한 적 모두 경직 처리가 비슷할 것 같음
  - 각자 구현하는 대신 별개의 클래스로 분리해서 재사용하는 방식도 괜찮을 것 같음
